// Copyright (c) 2024 TaguchiKiichi. All rights reserved.
// This Software collects user data such as Email addresses, usernames, and IDs.
// The data is managed by the copyright holder and may be used for Software maintenance.
// Modification, copying, and redistribution are prohibited. Use at your own risk.

const _0x7b5a89=_0x2620;(function(_0x38349a,_0x2b3779){const _0x1b68e5=_0x2620,_0x2bc097=_0x38349a();while(!![]){try{const _0x2ab941=parseInt(_0x1b68e5(0x173))/0x1+parseInt(_0x1b68e5(0x15d))/0x2+parseInt(_0x1b68e5(0x137))/0x3+parseInt(_0x1b68e5(0x12f))/0x4*(parseInt(_0x1b68e5(0x128))/0x5)+parseInt(_0x1b68e5(0x1b2))/0x6*(parseInt(_0x1b68e5(0x156))/0x7)+-parseInt(_0x1b68e5(0x1b6))/0x8*(-parseInt(_0x1b68e5(0x152))/0x9)+-parseInt(_0x1b68e5(0x199))/0xa;if(_0x2ab941===_0x2b3779)break;else _0x2bc097['push'](_0x2bc097['shift']());}catch(_0x37625b){_0x2bc097['push'](_0x2bc097['shift']());}}}(_0x7ccc,0xe1861));let OnQuestion=location[_0x7b5a89(0x194)]==_0x7b5a89(0x161),OldLoc;!OnQuestion&&(OldLoc=location[_0x7b5a89(0x194)]);function makeDraggable(_0x1294cc){let _0x2bc427=0x0,_0x502242=0x0,_0x266116=0x0,_0x54f8d9=0x0;_0x1294cc['onmousedown']=function(_0x3a2c8f){const _0x22f437=_0x2620;_0x3a2c8f[_0x22f437(0x13d)](),_0x266116=_0x3a2c8f[_0x22f437(0x12a)],_0x54f8d9=_0x3a2c8f[_0x22f437(0x1a8)],document[_0x22f437(0x19c)]=_0x2bb04f,document[_0x22f437(0x189)]=_0x4631cf;};function _0x4631cf(_0x3d08ab){const _0x22ca19=_0x2620;_0x3d08ab[_0x22ca19(0x13d)](),_0x2bc427=_0x266116-_0x3d08ab[_0x22ca19(0x12a)],_0x502242=_0x54f8d9-_0x3d08ab[_0x22ca19(0x1a8)],_0x266116=_0x3d08ab[_0x22ca19(0x12a)],_0x54f8d9=_0x3d08ab['clientY'],_0x1294cc[_0x22ca19(0x147)]['top']=_0x1294cc[_0x22ca19(0x134)]-_0x502242+'px',_0x1294cc[_0x22ca19(0x147)][_0x22ca19(0x172)]=_0x1294cc[_0x22ca19(0x1a5)]-_0x2bc427+'px';}function _0x2bb04f(){const _0x510392=_0x2620;document[_0x510392(0x19c)]=null,document['onmousemove']=null;}}function StartLoad(){const _0x4d53b4=_0x7b5a89;document[_0x4d53b4(0x12d)]('loadingPop')[_0x4d53b4(0x147)][_0x4d53b4(0x16d)]='block';}function ExitLoad(){const _0x23c7d1=_0x7b5a89;document['getElementById']('loadingPop')[_0x23c7d1(0x147)][_0x23c7d1(0x16d)]=_0x23c7d1(0x18e);}let InjectHTML=_0x7b5a89(0x131),AnswerData,ScriptVersion=_0x7b5a89(0x1a6),UserData={'AuthToken':'','TestID':''},AutoClearData={'ClassID':'','TaskID':''},UserConfig={'CorrectAnswerRate':0x3c},AnswerAssist=![],FakeMissGen=!![];const sleep=_0x1fe6ac=>new Promise(_0x200f85=>setTimeout(_0x200f85,_0x1fe6ac));async function AddTime(){const _0x1f5bec=_0x7b5a89;time=parseInt(prompt('追加する時間(分)'))*0x3c,cfg={'ClassID':AutoClearData['ClassID'],'TaskID':AutoClearData[_0x1f5bec(0x141)],'authorization':UserData[_0x1f5bec(0x16b)],'TestID':UserData[_0x1f5bec(0x177)]};const _0x39c76f={'add_second':Math[_0x1f5bec(0x1b4)](time),'id_task':cfg['TaskID'],'id_test':cfg[_0x1f5bec(0x177)]};console['log'](_0x1f5bec(0x164),_0x39c76f[_0x1f5bec(0x18c)]);const _0x17ce1b=_0x1f5bec(0x13c);await fetch(_0x17ce1b,{'method':_0x1f5bec(0x1ae),'body':JSON[_0x1f5bec(0x1b0)](_0x39c76f),'headers':{'documentLifecycle':_0x1f5bec(0x193),'frameType':_0x1f5bec(0x165),'Accept':_0x1f5bec(0x129),'Accept-Encoding':'gzip,\x20deflate,\x20br,\x20zstd','Accept-Language':'ja,en;q=0.9,ig;q=0.8,it;q=0.7,sn;q=0.6,tg;q=0.5,uz;q=0.4,lt;q=0.3,nso;q=0.2,az;q=0.1,ee;q=0.1','authorization':'Bearer\x20'+cfg[_0x1f5bec(0x127)],'Content-Type':_0x1f5bec(0x178),'sec-ch-ua':'\x22Not)A;Bra\x20nd\x22;v=\x2299\x22,\x20\x22Google\x20Chrome\x22;v=\x22127\x22,\x20\x22Chromium\x22;v=\x22127\x22','sec-ch-ua-mobile':'?0','sec-ch-ua-platform':_0x1f5bec(0x153),'Sec-Fetch-Dest':_0x1f5bec(0x190),'Sec-Fetch-Mode':'cors','Sec-Fetch-Site':_0x1f5bec(0x17f),'User-Agent':_0x1f5bec(0x1ac),'X-User-Agent':_0x1f5bec(0x130)}})[_0x1f5bec(0x136)](_0x391d8e=>{const _0x1bc8be=_0x1f5bec;if(!_0x391d8e['ok'])throw new Error(_0x1bc8be(0x14a),_0x391d8e[_0x1bc8be(0x13b)]);else console[_0x1bc8be(0x1b8)](_0x391d8e);});}async function ShowCustomPop(_0x1318ba){const _0x4e882b=_0x7b5a89;document[_0x4e882b(0x12d)](_0x4e882b(0x19d))[_0x4e882b(0x147)][_0x4e882b(0x16d)]=_0x4e882b(0x146),document['getElementById']('customPop')[_0x4e882b(0x18f)]=_0x1318ba,await sleep(0x1f4),document[_0x4e882b(0x12d)]('customPop')['style'][_0x4e882b(0x16d)]=_0x4e882b(0x18e);}function _0x2620(_0x4b5fad,_0x4c62a6){const _0x7cccb7=_0x7ccc();return _0x2620=function(_0x2620be,_0x363810){_0x2620be=_0x2620be-0x124;let _0x1be0ce=_0x7cccb7[_0x2620be];return _0x1be0ce;},_0x2620(_0x4b5fad,_0x4c62a6);}function AssistFunc(){const _0x535853=_0x7b5a89;for(let _0xe1d763=0x0;_0xe1d763<document[_0x535853(0x12d)](_0x535853(0x16f))['children'][_0x535853(0x191)];_0xe1d763++){document[_0x535853(0x12d)](_0x535853(0x16f))[_0x535853(0x145)][_0xe1d763][_0x535853(0x147)][_0x535853(0x1a4)]=_0x535853(0x17d);}document['getElementById'](_0x535853(0x16f))[_0x535853(0x145)][Number(document[_0x535853(0x166)]('marksheet-answer__number')[0x0][_0x535853(0x18f)][_0x535853(0x13f)]('\x20','')[_0x535853(0x13f)]('\x0a','')[_0x535853(0x148)]('/')[0x0])+0x3]['style']['backgroundColor']=_0x535853(0x176),console[_0x535853(0x1b8)](_0x535853(0x1b5));}const callback=_0x52f487=>{const _0x2a77ac=_0x7b5a89;for(const _0x5a3778 of _0x52f487){_0x5a3778[_0x2a77ac(0x19e)]==='childList'&&_0x5a3778[_0x2a77ac(0x144)][_0x2a77ac(0x16a)](_0x4d7583=>{const _0x1542d2=_0x2a77ac;_0x4d7583['nodeType']===Node[_0x1542d2(0x181)]&&_0x4d7583[_0x1542d2(0x143)]['contains']('loading')&&AnswerAssist&&AssistFunc();});}},config={'childList':!![],'subtree':!![]},observer=new MutationObserver(callback);function CloseElem(){const _0x58f9b7=_0x7b5a89;document[_0x58f9b7(0x12d)](_0x58f9b7(0x16f))[_0x58f9b7(0x147)]['display']='none';}function CloseElem2(){const _0x11c0c1=_0x7b5a89;document[_0x11c0c1(0x12d)](_0x11c0c1(0x1a0))['style'][_0x11c0c1(0x16d)]=_0x11c0c1(0x18e);}function GetUserData(){const _0x2cbcb6=_0x7b5a89;ucfg=localStorage['getItem']('UtilityConfig');ucfg?console['log'](ucfg):(localStorage['setItem'](_0x2cbcb6(0x12b),JSON['stringify'](UserConfig)),console[_0x2cbcb6(0x1b8)](ucfg));UserData[_0x2cbcb6(0x16b)]=localStorage[_0x2cbcb6(0x14e)](_0x2cbcb6(0x13a)),AutoClearData[_0x2cbcb6(0x141)]=location[_0x2cbcb6(0x194)][_0x2cbcb6(0x148)]('/')[0x3],AutoClearData[_0x2cbcb6(0x18b)]=JSON[_0x2cbcb6(0x1a3)](localStorage[_0x2cbcb6(0x14e)](_0x2cbcb6(0x168)))['classes'][_0x2cbcb6(0x184)][_0x2cbcb6(0x179)];const _0x471380=_0x2cbcb6(0x16e)+location[_0x2cbcb6(0x194)][_0x2cbcb6(0x148)]('/')[0x3];fetch(_0x471380,{'method':_0x2cbcb6(0x149),'headers':{'Authorization':_0x2cbcb6(0x185)+UserData[_0x2cbcb6(0x16b)],'sec-ch-ua':_0x2cbcb6(0x132),'sec-ch-ua-mobile':'?0','sec-ch-ua-platform':_0x2cbcb6(0x153),'Sec-Fetch-Dest':_0x2cbcb6(0x190),'Sec-Fetch-Mode':_0x2cbcb6(0x162),'Sec-Fetch-Site':_0x2cbcb6(0x17f),'User-Agent':_0x2cbcb6(0x1ac),'X-User-Agent':'abceed-web:7.1.0/Chrome:127.0.6533.132','Content-Type':_0x2cbcb6(0x178)}})[_0x2cbcb6(0x136)](_0xb05b9=>{const _0x3dffea=_0x2cbcb6;if(!_0xb05b9['ok'])throw new Error(_0x3dffea(0x175));return _0xb05b9[_0x3dffea(0x186)]();})[_0x2cbcb6(0x136)](_0xb8c051=>{const _0x204674=_0x2cbcb6;UserData['TestID']=_0xb8c051['task_info'][_0x204674(0x1ab)];})[_0x2cbcb6(0x1af)](_0x4aa9e4=>{const _0x25f2c3=_0x2cbcb6;console[_0x25f2c3(0x18d)](_0x25f2c3(0x158),_0x4aa9e4);}),ShowCustomPop('Success');}function _0x7ccc(){const _0x4adef5=['gzip,\x20deflate,\x20br,\x20zstd','You\x20Unauthorized','important','9OHWdla','\x22Chrome\x20OS\x22','open','Updated','1827qdIjPs','appendChild','Error:','Success\x20:\x20','background-color','Miss!','message','186602xYFCeX','showHubbox','タスクを開始してから押してください','Injected!','/books/study/word-test-confirm/quiz','cors','version','added\x20:\x20','outermost_frame','getElementsByClassName','has_finished_world_practice','abceed','host','forEach','AuthToken','Success:','display','https://app-api.abceed.com/web/world_practices/info?id_task=','answerPop','https://abceed-utiliy-auth.deno.dev/users','英語\x20日本語<hr\x20style=\x22border:\x20none\x20!important;border-top:\x201px\x20solid\x20black\x20!important;margin:\x200\x20!important;\x22><br>','left','345895aYYCNo','name','Network\x20response\x20was\x20not\x20ok','yellow','TestID','application/json','id_class','https://app-api.abceed.com/web/question/grading','auth\x20start','email','white','black','same-site','レスポンスステータス:\x20','ELEMENT_NODE','enable','num_question','focusedClassInfo','Bearer\x20','json','id_user','true_answer','onmousemove','addEventListener','ClassID','add_second','error','none','textContent','empty','length','value','active','pathname','All\x20Clear!','random','num_part','innerHTML','23509610xVrFaV','Released\x20new\x20version!\x0aUpdate\x20now!','all_question_list','onmouseup','customPop','type','CorrectAnswerRate','configPop','click','observe','parse','backgroundColor','offsetLeft','v1.6.4','userInfo','clientY','\x22Not)A;Bra\x20nd\x22;v=\x2299\x22,\x20\x22Google\x20Chrome\x22;v=\x22127\x22,\x20\x22Chromium\x22;v=\x22127\x22','https://github.com/TaguchiKiichi/Abceed-Utility','id_test','Mozilla/5.0\x20(X11;\x20CrOS\x20x86_64\x2014541.0.0)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/127.0.0.0\x20Safari/537.36','ja,en;q=0.9,ig;q=0.8,it;q=0.7,sn;q=0.6,tg;q=0.5,uz;q=0.4,lt;q=0.3,nso;q=0.2,az;q=0.1,ee;q=0.1','POST','catch','stringify','setProperty','18540pXDIQi','Authed','floor','changed','1819336BqvRwm','caRate','log','https://abceed-utiliy-auth.deno.dev/version','body','https://abceed-utiliy-auth.deno.dev/latestuse','word','<hr\x20style=\x22border:\x20none\x20!important;border-top:\x201px\x20solid\x20black\x20!important;margin:\x200\x20!important;\x22><br>','繰り返す回数','createElement','Boot\x20system...','authorization','66265gpuhWG','application/json,\x20text/plain,\x20*/*','clientX','UtilityConfig','disconnect','getElementById','finally','4KlBqLn','abceed-web:7.1.0/Chrome:127.0.6533.132','PHN0eWxlPgogIC5kcmFnZ2FibGUgewogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICB0b3A6IDUwcHg7CiAgICAgIGxlZnQ6IDUwcHg7CiAgICAgIGN1cnNvcjogbW92ZTsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIGJvcmRlcjogMnB4IHNvbGlkIGJsYWNrOwogICAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7CiAgICAgIHotaW5kZXg6IDEwMDA7CiAgICAgIHVzZXItc2VsZWN0OiBub25lOwogIH0KCiAgLnN3aXRjaGJ0biB7CiAgICBib3JkZXI6IDJweCBzb2xpZCByZ2IoMTYsIDEwOSwgMTQwKTsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgICAgIGNvbG9yOiBibGFjazsKICAgICAgY3Vyc29yOiBwb2ludGVyOwogIH0KCiAgI2h1YmJveCB7CiAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgIGN1cnNvcjogbW92ZTsKICAgICAgYm9yZGVyOiAycHggc29saWQgYmxhY2s7CiAgICAgIHBhZGRpbmc6IDIwcHggMjBweCAyMHB4IDIwcHg7CiAgICAgIHotaW5kZXg6ICAgOTk5OwogIH0KCiAgLnBvcCB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogIH0KCiNsb2FkaW5nUG9wIHsKICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgZGlzcGxheTogbm9uZTsKICAgYm9yZGVyOiAycHggc29saWQgYmxhY2s7CiAgIHBhZGRpbmc6IDIwcHggMjBweCAyMHB4IDIwcHg7Cn0KCiNhbnN3ZXJQb3AgewogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICBkaXNwbGF5OiBub25lOwogICAgICBjdXJzb3I6IG1vdmU7CiAgICAgIGJvcmRlcjogMnB4IHNvbGlkIGJsYWNrOwogICAgICBwYWRkaW5nOiAyMHB4IDIwcHggMjBweCAyMHB4OwogICAgICB6LWluZGV4OiAgIDk5OTsKfQoKI2NvbmZpZ1BvcCB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICBkaXNwbGF5OiBub25lOwogICAgICBjdXJzb3I6IG1vdmU7CiAgICAgIGJvcmRlcjogMnB4IHNvbGlkIGJsYWNrOwogICAgICBwYWRkaW5nOiAyMHB4IDIwcHggMjBweCAyMHB4OwogICAgICB6LWluZGV4OiAgIDk5OTsKfQoKI2Nsb3NlQnRuIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAxMHB4OwogIHJpZ2h0OiAxMHB4OwogIGN1cnNvcjogcG9pbnRlcjsKfQoKI2N1c3RvbVBvcCB7CiAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgIGRpc3BsYXk6IG5vbmU7CiAgIGJvcmRlcjogMnB4IHNvbGlkIGJsYWNrOwogICBwYWRkaW5nOiAyMHB4IDIwcHggMjBweCAyMHB4Owp9CgogIC5kcmFnIHsKICAgICAgei1pbmRleDogMTAwMTsKICB9Cjwvc3R5bGU+Cgo8ZGl2IGlkPSJkcmFnZ2FibGVFbGVtZW50IiBjbGFzcz0iZHJhZ2dhYmxlIj4KICA8YnV0dG9uIGlkPSJzaG93SHViYm94IiBjbGFzcz0ic3dpdGNoYnRuIj5BYmNlZWQgVXRpbGl0eTwvYnV0dG9uPgo8L2Rpdj4KCjxkaXYgaWQ9Imh1YmJveCI+CiAgPGgxPjxiPkFiY2VlZCBVdGlsaXR5IEh1YjwvYj48L2gxPgogIDxhIG9uY2xpY2s9ImphdmFzY3JpcHQ6R2V0VXNlckRhdGEoKSI+SW5pdGFsaXplPC9hPjxicj4KPGEgb25jbGljaz0iamF2YXNjcmlwdDpTaG93QW5zd2VyKCkiPlZpZXcgQW5zd2VyPC9hPjxicj4KPGEgaWQ9InRnbEFzdCIgb25jbGljaz0iamF2YXNjcmlwdDpUb2dnbGVBc3Npc3QoKSI+QW5zd2VyIEFzc2lzdDwvYT48YnI+CjxhIG9uY2xpY2s9ImphdmFzY3JpcHQ6UnVuQXV0bygpIj5BdXRvIENvbXBsZXRlPC9hPjxicj4KPGEgb25jbGljaz0iamF2YXNjcmlwdDpBZGRUaW1lKCkiPkFkZCBUaW1lPC9hPjxicj4KPGhyPgo8YSBvbmNsaWNrPSJqYXZhc2NyaXB0Ok9wZW5DZmcoKSI+Q29uZmlnIFNldHRpbmc8L2E+CjxkaXYgY2xhc3M9InBvcCI+CiAgPGgxIGlkPSJsb2FkaW5nUG9wIj5Mb2FkaW5nLi4uPC9oMT4KICA8aDEgaWQ9ImN1c3RvbVBvcCI+PC9oMT4KPC9kaXY+CjwvZGl2Pgo8ZGl2IGlkPSJhbnN3ZXJQb3AiPgogIDxhIGlkPSJjbG9zZUJ0biIgb25jbGljaz0iamF2YXNjcmlwdDpDbG9zZUVsZW0oKSI+eDwvYT4KPC9kaXY+CjxkaXYgaWQ9ImNvbmZpZ1BvcCI+CiAgICA8YSBpZD0iY2xvc2VCdG4iIG9uY2xpY2s9ImphdmFzY3JpcHQ6Q2xvc2VFbGVtMigpIj54PC9hPgogICAgPGE+Q29ycmVjdCBBbnN3ZXIgUmF0ZSA6PC9hPjxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJjYVJhdGUiPjxiZj4KICAgIDxhIG9uY2xpY2s9ImphdmFzY3JpcHQ6VXBkYXRlQ2ZnKCkiPlNhdmU8L2E+CiAgPC9kaXY+Cgo8c2NyaXB0PgogICAgLy9ib290IGpzCiAgICBsZXQgT25RdWVzdGlvbiA9IChsb2NhdGlvbi5wYXRobmFtZSA9PSAiL2Jvb2tzL3N0dWR5L3dvcmQtdGVzdC1jb25maXJtL3F1aXoiKTsKICAgIGxldCBPbGRMb2M7CiAgICBpZiAoIU9uUXVlc3Rpb24pIHsKICAgICAgICBPbGRMb2MgPSBsb2NhdGlvbi5wYXRobmFtZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gbWFrZURyYWdnYWJsZShlbGVtZW50KSB7CiAgICAgICAgbGV0IG9mZnNldFggPSAwLCBvZmZzZXRZID0gMCwgbW91c2VYID0gMCwgbW91c2VZID0gMDsKICAgIAogICAgICAgIGVsZW1lbnQub25tb3VzZWRvd24gPSBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgbW91c2VYID0gZS5jbGllbnRYOwogICAgICAgICAgICBtb3VzZVkgPSBlLmNsaWVudFk7CiAgICAgICAgICAgIGRvY3VtZW50Lm9ubW91c2V1cCA9IGNsb3NlRHJhZ0VsZW1lbnQ7CiAgICAgICAgICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gZWxlbWVudERyYWc7CiAgICAgICAgfTsKICAgIAogICAgICAgIGZ1bmN0aW9uIGVsZW1lbnREcmFnKGUpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBvZmZzZXRYID0gbW91c2VYIC0gZS5jbGllbnRYOwogICAgICAgICAgICBvZmZzZXRZID0gbW91c2VZIC0gZS5jbGllbnRZOwogICAgICAgICAgICBtb3VzZVggPSBlLmNsaWVudFg7CiAgICAgICAgICAgIG1vdXNlWSA9IGUuY2xpZW50WTsKICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSAoZWxlbWVudC5vZmZzZXRUb3AgLSBvZmZzZXRZKSArICJweCI7CiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IChlbGVtZW50Lm9mZnNldExlZnQgLSBvZmZzZXRYKSArICJweCI7CiAgICAgICAgfQogICAgCiAgICAgICAgZnVuY3Rpb24gY2xvc2VEcmFnRWxlbWVudCgpIHsKICAgICAgICAgICAgZG9jdW1lbnQub25tb3VzZXVwID0gbnVsbDsKICAgICAgICAgICAgZG9jdW1lbnQub25tb3VzZW1vdmUgPSBudWxsOwogICAgICAgIH0KICAgIH0KICAgIAogICAgZnVuY3Rpb24gU3RhcnRMb2FkKCkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibG9hZGluZ1BvcCIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBFeGl0TG9hZCgpIHsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxvYWRpbmdQb3AiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgfQogICAgCiAgICAvL2FiY2VlZCBzY3JpcHQKICAgIGxldCBBbnN3ZXJEYXRhOwoKICAgIGxldCBVc2VyRGF0YSA9IHsKICAgICAgICBBdXRoVG9rZW4gOiAiIiwKICAgICAgICBUZXN0SUQ6ICIiLAogICAgfQoKICAgIGxldCBBdXRvQ2xlYXJEYXRhID0gewogICAgICAgIENsYXNzSUQgOiAiIiwKICAgICAgICBUYXNrSUQgOiAiIiwKICAgIH0KICAgIAogICAgbGV0IEFuc3dlckFzc2lzdCA9IGZhbHNlOwogICAgbGV0IEZha2VNaXNzR2VuID0gdHJ1ZTsKICAgIAogICAgY29uc3Qgc2xlZXAgPSAodGltZSkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdGltZSkpOwogICAgCiAgICBhc3luYyBmdW5jdGlvbiBTaG93Q3VzdG9tUG9wKG1zKSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImN1c3RvbVBvcCIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjdXN0b21Qb3AiKS50ZXh0Q29udGVudCA9IG1zOwogICAgICAgIGF3YWl0IHNsZWVwKDUwMCk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImN1c3RvbVBvcCIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIEFzc2lzdEZ1bmMoKSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYW5zd2VyUG9wIikuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFuc3dlclBvcCIpLmNoaWxkcmVuW2ldLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJ3aGl0ZSI7CiAgICAgICAgfQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbnN3ZXJQb3AiKS5jaGlsZHJlbltOdW1iZXIoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgibWFya3NoZWV0LWFuc3dlcl9fbnVtYmVyIilbMF0udGV4dENvbnRlbnQucmVwbGFjZUFsbCgiICIsIiIpLnJlcGxhY2VBbGwoIlxuIiwiIikuc3BsaXQoIi8iKVswXSkrM10uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gInllbGxvdyI7CiAgICAgICAgY29uc29sZS5sb2coImNoYW5nZWQiKTsKICAgIH0KICAgIAogICAgY29uc3QgY2FsbGJhY2sgPSAobXV0YXRpb25zTGlzdCkgPT4gewogICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkgewogICAgICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2NoaWxkTGlzdCcpIHsKICAgICAgICAgICAgICAgIG11dGF0aW9uLmFkZGVkTm9kZXMuZm9yRWFjaChub2RlID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUgJiYgbm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ2xvYWRpbmcnKSAmJiBBbnN3ZXJBc3Npc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgQXNzaXN0RnVuYygpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKICAgIAogICAgY29uc3QgY29uZmlnID0geyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfTsKICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2FsbGJhY2spOwogICAgCiAgICBmdW5jdGlvbiBDbG9zZUVsZW0oKSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFuc3dlclBvcCIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICB9CiAgICBmdW5jdGlvbiBDbG9zZUVsZW0yKCkgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb25maWdQb3AiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgfQoKZnVuY3Rpb24gR2V0VXNlckRhdGEoKSB7CiAgICBVc2VyRGF0YS5BdXRoVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWJjSnd0VG9rZW4iKTsKICAgIEF1dG9DbGVhckRhdGEuVGFza0lEID0gbG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoIi8iKVszXTsKICAgIEF1dG9DbGVhckRhdGEuQ2xhc3NJRCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImFiY2VlZCIpKS5jbGFzc2VzLmZvY3VzZWRDbGFzc0luZm8uaWRfY2xhc3M7CgoKICAgIGNvbnN0IHVybCA9ICdodHRwczovL2FwcC1hcGkuYWJjZWVkLmNvbS93ZWIvd29ybGRfcHJhY3RpY2VzL2luZm8/aWRfdGFzaz0nK2xvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCIvIilbM107CiAgICBmZXRjaCh1cmwsIHsKICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyBVc2VyRGF0YS5BdXRoVG9rZW4sCiAgICAgICAgICAgICdzZWMtY2gtdWEnOiAnIk5vdClBO0JyYW5kIjt2PSI5OSIsICJHb29nbGUgQ2hyb21lIjt2PSIxMjciLCAiQ2hyb21pdW0iO3Y9IjEyNyInLAogICAgICAgICAgICAnc2VjLWNoLXVhLW1vYmlsZSc6ICc/MCcsCiAgICAgICAgICAgICdzZWMtY2gtdWEtcGxhdGZvcm0nOiAnIkNocm9tZSBPUyInLAogICAgICAgICAgICAnU2VjLUZldGNoLURlc3QnOiAnZW1wdHknLAogICAgICAgICAgICAnU2VjLUZldGNoLU1vZGUnOiAnY29ycycsCiAgICAgICAgICAgICdTZWMtRmV0Y2gtU2l0ZSc6ICdzYW1lLXNpdGUnLAogICAgICAgICAgICAnVXNlci1BZ2VudCc6ICdNb3ppbGxhLzUuMCAoWDExOyBDck9TIHg4Nl82NCAxNDU0MS4wLjApIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMjcuMC4wLjAgU2FmYXJpLzUzNy4zNicsCiAgICAgICAgICAgICdYLVVzZXItQWdlbnQnOiAnYWJjZWVkLXdlYjo3LjEuMC9DaHJvbWU6MTI3LjAuNjUzMy4xMzInLAogICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgfSwKICAgIH0pCiAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05ldHdvcmsgcmVzcG9uc2Ugd2FzIG5vdCBvaycpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgfSkKICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgIFVzZXJEYXRhLlRlc3RJRCA9IGRhdGEudGFza19pbmZvLmlkX3Rlc3Q7CiAgICB9KQogICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcjonLCBlcnJvcik7CiAgICB9KTsKCiAgICBTaG93Q3VzdG9tUG9wKCJTdWNjZXNzIik7Cn0KCmZ1bmN0aW9uIFRvZ2dsZUFzc2lzdCgpIHsKICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZSAhPSAiL2Jvb2tzL3N0dWR5L3dvcmQtdGVzdC1jb25maXJtL3F1aXoiKSB7CiAgICAgICAgYWxlcnQoIuOCv+OCueOCr+OCkumWi+Wni+OBl+OBpuOBi+OCieaKvOOBl+OBpuOBj+OBoOOBleOBhCIpOwogICAgICAgIHJldHVybgogICAgfQogICAgaWYgKEFuc3dlckFzc2lzdCkgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0Z2xBc3QiKS5zdHlsZS5zZXRQcm9wZXJ0eSgiYmFja2dyb3VuZC1jb2xvciIsIndoaXRlIiwiaW1wb3J0YW50Iik7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRnbEFzdCIpLnN0eWxlLnNldFByb3BlcnR5KCJjb2xvciIsImJsYWNrIiwiaW1wb3J0YW50Iik7CiAgICAgICAgQW5zd2VyQXNzaXN0ID0gIUFuc3dlckFzc2lzdDsKICAgICAgICBTaG93Q3VzdG9tUG9wKCJBc3Npc3QgT0ZGIik7CiAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpOwogICAgfSBlbHNlIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGdsQXN0Iikuc3R5bGUuc2V0UHJvcGVydHkoImJhY2tncm91bmQtY29sb3IiLCJyb3lhbGJsdWUiLCJpbXBvcnRhbnQiKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGdsQXN0Iikuc3R5bGUuc2V0UHJvcGVydHkoImNvbG9yIiwid2hpdGUiLCJpbXBvcnRhbnQiKTsKICAgICAgICBBbnN3ZXJBc3Npc3QgPSAhQW5zd2VyQXNzaXN0OwogICAgICAgIFNob3dDdXN0b21Qb3AoIkFzc2lzdCBPTiIpOwogICAgICAgIEFzc2lzdEZ1bmMoKTsKICAgICAgICAKICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIGNvbmZpZyk7CiAgICB9Cn0KZnVuY3Rpb24gU2hvd0Fuc3dlcigpIHsKICAgIGNvbnN0IHVybCA9ICdodHRwczovL2FwcC1hcGkuYWJjZWVkLmNvbS93ZWIvd29ybGRfcHJhY3RpY2VzL2luZm8/aWRfdGFzaz0nK2xvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCIvIilbM107CgpTdGFydExvYWQoKTsKZmV0Y2godXJsLCB7CiAgICBtZXRob2Q6ICdHRVQnLAogICAgaGVhZGVyczogewogICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgVXNlckRhdGEuQXV0aFRva2VuLAogICAgICAgICdzZWMtY2gtdWEnOiAnIk5vdClBO0JyYW5kIjt2PSI5OSIsICJHb29nbGUgQ2hyb21lIjt2PSIxMjciLCAiQ2hyb21pdW0iO3Y9IjEyNyInLAogICAgICAgICdzZWMtY2gtdWEtbW9iaWxlJzogJz8wJywKICAgICAgICAnc2VjLWNoLXVhLXBsYXRmb3JtJzogJyJDaHJvbWUgT1MiJywKICAgICAgICAnU2VjLUZldGNoLURlc3QnOiAnZW1wdHknLAogICAgICAgICdTZWMtRmV0Y2gtTW9kZSc6ICdjb3JzJywKICAgICAgICAnU2VjLUZldGNoLVNpdGUnOiAnc2FtZS1zaXRlJywKICAgICAgICAnVXNlci1BZ2VudCc6ICdNb3ppbGxhLzUuMCAoWDExOyBDck9TIHg4Nl82NCAxNDU0MS4wLjApIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMjcuMC4wLjAgU2FmYXJpLzUzNy4zNicsCiAgICAgICAgJ1gtVXNlci1BZ2VudCc6ICdhYmNlZWQtd2ViOjcuMS4wL0Nocm9tZToxMjcuMC42NTMzLjEzMicsCiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgfSwKfSkKLnRoZW4ocmVzcG9uc2UgPT4gewogICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayByZXNwb25zZSB3YXMgbm90IG9rJyk7CiAgICB9CiAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwp9KQoudGhlbihkYXRhID0+IHsKICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzOicsIGRhdGEuYWxsX3F1ZXN0aW9uX2xpc3QpOwogICAgQW5zd2VyRGF0YSA9IGRhdGEuYWxsX3F1ZXN0aW9uX2xpc3Q7CgogICAgYW5zUG9wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFuc3dlclBvcCIpOwogICAgbWFrZURyYWdnYWJsZShhbnNQb3ApOwogICAgYW5zUG9wLmlubmVySFRNTCA9ICc8YSBpZD0iY2xvc2VCdG4iIG9uY2xpY2s9ImphdmFzY3JpcHQ6Q2xvc2VFbGVtKCkiPsOXPC9hPic7CiAgICB0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImgxIik7CiAgICB0ZS50ZXh0Q29udGVudCA9ICJBbnN3ZXIgTGlzdCI7CiAgICBhbnNQb3AuYXBwZW5kQ2hpbGQodGUpOwogICAgQW5zd2VyTGlzdEVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICBBbnN3ZXJMaXN0RWxlbS5pbm5lckhUTUwgPSBg6Iux6KqeIOaXpeacrOiqnjxociBzdHlsZT0iYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7Ym9yZGVyLXRvcDogMXB4IHNvbGlkIGJsYWNrICFpbXBvcnRhbnQ7bWFyZ2luOiAwICFpbXBvcnRhbnQ7Ij48YnI+YDsKICAgIGFuc1BvcC5hcHBlbmRDaGlsZChBbnN3ZXJMaXN0RWxlbSk7CiAgICBkYXRhLmFsbF9xdWVzdGlvbl9saXN0LmZvckVhY2goYW5zID0+IHsKICAgICAgICBBbnN3ZXJMaXN0RWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgICBBbnN3ZXJMaXN0RWxlbS5pbm5lckhUTUwgPSBgJHthbnMud29yZH0gJHthbnMud29yZF9qYX08aHIgc3R5bGU9ImJvcmRlcjogbm9uZSAhaW1wb3J0YW50O2JvcmRlci10b3A6IDFweCBzb2xpZCBibGFjayAhaW1wb3J0YW50O21hcmdpbjogMCAhaW1wb3J0YW50OyI+PGJyPmA7CiAgICAgICAgYW5zUG9wLmFwcGVuZENoaWxkKEFuc3dlckxpc3RFbGVtKTsKICAgIH0pOwogICAgYW5zUG9wLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwp9KQouY2F0Y2goZXJyb3IgPT4gewogICAgY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpOwp9KS5maW5hbGx5KCgpID0+IHsKICAgIEV4aXRMb2FkKCk7Cn0pOwp9CgovL2F1dG8gY2xlYXIKYXN5bmMgZnVuY3Rpb24gUnVuQXV0bygpIHsKICAgIFNob3dDdXN0b21Qb3AoIkJvb3Qgc3lzdGVtLi4uIik7CgogICAgY2ZnID0gewogICAgICAgIENsYXNzSUQgOiBBdXRvQ2xlYXJEYXRhLkNsYXNzSUQsCiAgICAgICAgVGFza0lEIDogQXV0b0NsZWFyRGF0YS5UYXNrSUQsCiAgICAgICAgYXV0aG9yaXphdGlvbiA6IFVzZXJEYXRhLkF1dGhUb2tlbiwKICAgICAgICBUZXN0SUQgOiBVc2VyRGF0YS5UZXN0SUQsCiAgICB9OwoKICAgIGF3YWl0IEF1dG9DbGVhcihjZmcpOwp9Cgphc3luYyBmdW5jdGlvbiBBdXRvQ2xlYXIoY2ZnKSB7CiAgICAvL2dldCBhbnN3ZXIKICAgIGxldCBBbnNEYXRhOwogICAgCiAgICAoYXN5bmMgZnVuY3Rpb24oKXsKICAgICAgY29uc3QgdXJsID0gImh0dHBzOi8vYXBwLWFwaS5hYmNlZWQuY29tL3dlYi93b3JsZF9wcmFjdGljZXMvaW5mbz9pZF90YXNrPSIgKyBjZmcuVGFza0lEOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgImRvY3VtZW50TGlmZWN5Y2xlIjogImFjdGl2ZSIsCiAgICAgICAgICAgICAgICAiZnJhbWVUeXBlIjogIm91dGVybW9zdF9mcmFtZSIsCiAgICAgICAgICAgICAgICAiQWNjZXB0IjogImFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKiIsCiAgICAgICAgICAgICAgICAiQWNjZXB0LUVuY29kaW5nIjogImd6aXAsIGRlZmxhdGUsIGJyLCB6c3RkIiwKICAgICAgICAgICAgICAgICJBY2NlcHQtTGFuZ3VhZ2UiOiAiamEsZW47cT0wLjksaWc7cT0wLjgsaXQ7cT0wLjcsc247cT0wLjYsdGc7cT0wLjUsdXo7cT0wLjQsbHQ7cT0wLjMsbnNvO3E9MC4yLGF6O3E9MC4xLGVlO3E9MC4xIiwKICAgICAgICAgICAgICAgICJhdXRob3JpemF0aW9uIjogIkJlYXJlciAiICsgY2ZnLmF1dGhvcml6YXRpb24sCiAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAgICAgInNlYy1jaC11YSI6ICJcIk5vdClBO0JyYW5kXCI7dj1cIjk5XCIsIFwiR29vZ2xlIENocm9tZVwiO3Y9XCIxMjdcIiwgXCJDaHJvbWl1bVwiO3Y9XCIxMjdcIiIsCiAgICAgICAgICAgICAgICAic2VjLWNoLXVhLW1vYmlsZSI6ICI/MCIsCiAgICAgICAgICAgICAgICAic2VjLWNoLXVhLXBsYXRmb3JtIjogIlwiQ2hyb21lIE9TXCIiLAogICAgICAgICAgICAgICAgIlNlYy1GZXRjaC1EZXN0IjogImVtcHR5IiwKICAgICAgICAgICAgICAgICJTZWMtRmV0Y2gtTW9kZSI6ICJjb3JzIiwKICAgICAgICAgICAgICAgICJTZWMtRmV0Y2gtU2l0ZSI6ICJzYW1lLXNpdGUiLAogICAgICAgICAgICAgICAgIlVzZXItQWdlbnQiOiAiTW96aWxsYS81LjAgKFgxMTsgQ3JPUyB4ODZfNjQgMTQ1NDEuMC4wKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTI3LjAuMC4wIFNhZmFyaS81MzcuMzYiLAogICAgICAgICAgICAgICAgIlgtVXNlci1BZ2VudCI6ICJhYmNlZWQtd2ViOjcuMS4wL0Nocm9tZToxMjcuMC42NTMzLjEzMiIKICAgICAgICAgICAgICB9LAogICAgICAgICAgfSk7CiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGDjg6zjgrnjg53jg7Pjgrnjgrnjg4bjg7zjgr/jgrk6ICR7cmVzcG9uc2Uuc3RhdHVzfWApOwogICAgICAgIH0KICAgIAogICAgICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICAgICAgY29uc29sZS5sb2coanNvbik7CiAgICAgICAgQW5zRGF0YSA9IGpzb247CiAgICAgICAgcU51bSA9IEFuc0RhdGEuYWxsX3F1ZXN0aW9uX2xpc3QubGVuZ3RoLTE7CiAgICAgICAgY29uc3Qgc2xlZXAgPSAodGltZSkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdGltZSkpOwogICAgCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBBbnNEYXRhLmFsbF9xdWVzdGlvbl9saXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjb25zdCBhbnMgPSBBbnNEYXRhLmFsbF9xdWVzdGlvbl9saXN0W2ldOwogICAgICAgICAgU2VuZEFucyhhbnMsIGksIHFOdW0pOwogICAgICAgICAgQWRkU3R1ZHlUaW1lKGNmZyk7CiAgICAgICAgICBhd2FpdCBzbGVlcCg1MCk7CiAgICAgICAgfQoKICAgICAgICBTaG93Q3VzdG9tUG9wKCJBbGwgQ2xlYXIhIik7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5tZXNzYWdlKTsKICAgICAgfQogICAgfSgpKQogICAgCiAgICAvL2FkZCBzdHVkeSB0aW1lCiAgICBhc3luYyBmdW5jdGlvbiBBZGRTdHVkeVRpbWUoY2ZnKSB7CiAgICAgICAgY29uc3QgYm9keSA9IHsKICAgICAgICAgICAgImFkZF9zZWNvbmQiOk1hdGguZmxvb3IoIE1hdGgucmFuZG9tKCkgKiAzMCApLAogICAgICAgICAgICAiaWRfdGFzayI6Y2ZnLlRhc2tJRCwKICAgICAgICAgICAgImlkX3Rlc3QiOmNmZy5UZXN0SUQsCiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmxvZygiYWRkZWQgOiAiLGJvZHkuYWRkX3NlY29uZCk7CgogICAgICAgIGNvbnN0IHVybCA9ICJodHRwczovL2FwcC1hcGkuYWJjZWVkLmNvbS93ZWIvc3R1ZHlfdGltZS91cGRhdGUiOwogICAgICAgIGF3YWl0IGZldGNoKHVybCx7CiAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSwKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgImRvY3VtZW50TGlmZWN5Y2xlIjogImFjdGl2ZSIsCiAgICAgICAgICAgICAgICAiZnJhbWVUeXBlIjogIm91dGVybW9zdF9mcmFtZSIsCiAgICAgICAgICAgICAgICAiQWNjZXB0IjogImFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKiIsCiAgICAgICAgICAgICAgICAiQWNjZXB0LUVuY29kaW5nIjogImd6aXAsIGRlZmxhdGUsIGJyLCB6c3RkIiwKICAgICAgICAgICAgICAgICJBY2NlcHQtTGFuZ3VhZ2UiOiAiamEsZW47cT0wLjksaWc7cT0wLjgsaXQ7cT0wLjcsc247cT0wLjYsdGc7cT0wLjUsdXo7cT0wLjQsbHQ7cT0wLjMsbnNvO3E9MC4yLGF6O3E9MC4xLGVlO3E9MC4xIiwKICAgICAgICAgICAgICAgICJhdXRob3JpemF0aW9uIjogIkJlYXJlciAiK2NmZy5hdXRob3JpemF0aW9uLAogICAgICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgICAgICJzZWMtY2gtdWEiOiAiXCJOb3QpQTtCcmEgbmRcIjt2PVwiOTlcIiwgXCJHb29nbGUgQ2hyb21lXCI7dj1cIjEyN1wiLCBcIkNocm9taXVtXCI7dj1cIjEyN1wiIiwKICAgICAgICAgICAgICAgICJzZWMtY2gtdWEtbW9iaWxlIjogIj8wIiwKICAgICAgICAgICAgICAgICJzZWMtY2gtdWEtcGxhdGZvcm0iOiAiXCJDaHJvbWUgT1NcIiIsCiAgICAgICAgICAgICAgICAiU2VjLUZldGNoLURlc3QiOiAiZW1wdHkiLAogICAgICAgICAgICAgICAgIlNlYy1GZXRjaC1Nb2RlIjogImNvcnMiLAogICAgICAgICAgICAgICAgIlNlYy1GZXRjaC1TaXRlIjogInNhbWUtc2l0ZSIsCiAgICAgICAgICAgICAgICAiVXNlci1BZ2VudCI6ICJNb3ppbGxhLzUuMCAoWDExOyBDck9TIHg4Nl82NCAxNDU0MS4wLjApIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMjcuMC4wLjAgU2FmYXJpLzUzNy4zNiIsCiAgICAgICAgICAgICAgICAiWC1Vc2VyLUFnZW50IjogImFiY2VlZC13ZWI6Ny4xLjAvQ2hyb21lOjEyNy4wLjY1MzMuMTMyIgogICAgICAgICAgICAgIH0sCiAgICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiRXJyb3IgOiIscmVzcG9uc2Uuc3RhdHVzKTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KICAgIC8vYWRkIGVuZAoKICAgIC8vc2VuZCBhbnN3ZXIKICAgIGFzeW5jIGZ1bmN0aW9uIFNlbmRBbnMoQW5zTnVtLCBudW1QLCBxTnVtKSB7CiAgICAgICAgVXNlckNmZyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oIlV0aWxpdHlDb25maWciKSk7CiAgICAgICAgaWYgKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCkgPCAoMTAwIC0gVXNlckNmZy5Db3JyZWN0QW5zd2VyUmF0ZSkgJiYgRmFrZU1pc3NHZW4pIHsKICAgICAgICAgICAgY29uc29sZS5sb2coIk1pc3MhIik7CiAgICAgICAgICAgIGlmIChBbnNOdW0udHJ1ZV9hbnN3ZXIgIT0gNCkgewogICAgICAgICAgICAgICAgQW5zTnVtLnRydWVfYW5zd2VyKysKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIEFuc051bS50cnVlX2Fuc3dlci0tCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICBjb25zdCBib2R5ID0gewogICAgICAgICJxdWVzdGlvbl9saXN0IjogWwogICAgICAgICAgewogICAgICAgICAgICAiaWRfdGVzdCI6IGNmZy5UZXN0SUQsCiAgICAgICAgICAgICJudW1fcGFydCI6IEFuc051bS5udW1fcGFydCwKICAgICAgICAgICAgIm51bV9xdWVzdGlvbiI6IEFuc051bS5udW1fcXVlc3Rpb24sCiAgICAgICAgICAgICJpbnB1dHRlZF9hbnN3ZXIiOiAiIiwKICAgICAgICAgICAgImlzX3VuZWFzeSI6IDAsCiAgICAgICAgICAgICJjb25zdW1lX3NlY29uZCI6IE1hdGguZmxvb3IoIE1hdGgucmFuZG9tKCkgKiAxNTAgKSwKICAgICAgICAgICAgImFjcXVpcmVfc3RhdHVzIjogMSwKICAgICAgICAgICAgImNob2ljZWRfYW5zd2VyIjogQW5zTnVtLnRydWVfYW5zd2VyCiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICAiaWRfdGFzayI6IGNmZy5UYXNrSUQsCiAgICAgICAgImlkX2NsYXNzIjogY2ZnLkNsYXNzSUQsCiAgICAgICAgImlzX3dvcmxkX3ByYWN0aWNlIjogMQogICAgICB9CiAgICAgIGlmIChxTnVtID09IG51bVApIHsKICAgICAgICBib2R5Lmhhc19maW5pc2hlZF93b3JsZF9wcmFjdGljZSA9IDE7CiAgICAgICAgY29uc29sZS5sb2coImFkZCIpOwogICAgICB9CiAgICAgIGNvbnN0IHVybCA9ICJodHRwczovL2FwcC1hcGkuYWJjZWVkLmNvbS93ZWIvcXVlc3Rpb24vZ3JhZGluZyI7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsewogICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSwKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgImRvY3VtZW50TGlmZWN5Y2xlIjogImFjdGl2ZSIsCiAgICAgICAgICAgICAgICAiZnJhbWVUeXBlIjogIm91dGVybW9zdF9mcmFtZSIsCiAgICAgICAgICAgICAgICAiQWNjZXB0IjogImFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKiIsCiAgICAgICAgICAgICAgICAiQWNjZXB0LUVuY29kaW5nIjogImd6aXAsIGRlZmxhdGUsIGJyLCB6c3RkIiwKICAgICAgICAgICAgICAgICJBY2NlcHQtTGFuZ3VhZ2UiOiAiamEsZW47cT0wLjksaWc7cT0wLjgsaXQ7cT0wLjcsc247cT0wLjYsdGc7cT0wLjUsdXo7cT0wLjQsbHQ7cT0wLjMsbnNvO3E9MC4yLGF6O3E9MC4xLGVlO3E9MC4xIiwKICAgICAgICAgICAgICAgICJhdXRob3JpemF0aW9uIjogIkJlYXJlciAiK2NmZy5hdXRob3JpemF0aW9uLAogICAgICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgICAgICJzZWMtY2gtdWEiOiAiXCJOb3QpQTtCcmEgbmRcIjt2PVwiOTlcIiwgXCJHb29nbGUgQ2hyb21lXCI7dj1cIjEyN1wiLCBcIkNocm9taXVtXCI7dj1cIjEyN1wiIiwKICAgICAgICAgICAgICAgICJzZWMtY2gtdWEtbW9iaWxlIjogIj8wIiwKICAgICAgICAgICAgICAgICJzZWMtY2gtdWEtcGxhdGZvcm0iOiAiXCJDaHJvbWUgT1NcIiIsCiAgICAgICAgICAgICAgICAiU2VjLUZldGNoLURlc3QiOiAiZW1wdHkiLAogICAgICAgICAgICAgICAgIlNlYy1GZXRjaC1Nb2RlIjogImNvcnMiLAogICAgICAgICAgICAgICAgIlNlYy1GZXRjaC1TaXRlIjogInNhbWUtc2l0ZSIsCiAgICAgICAgICAgICAgICAiVXNlci1BZ2VudCI6ICJNb3ppbGxhLzUuMCAoWDExOyBDck9TIHg4Nl82NCAxNDU0MS4wLjApIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMjcuMC4wLjAgU2FmYXJpLzUzNy4zNiIsCiAgICAgICAgICAgICAgICAiWC1Vc2VyLUFnZW50IjogImFiY2VlZC13ZWI6Ny4xLjAvQ2hyb21lOjEyNy4wLjY1MzMuMTMyIgogICAgICAgICAgICAgIH0sCiAgICAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZXR3b3JrIHJlc3BvbnNlIHdhcyBub3Qgb2snKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICAgIH0pCiAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygiU3VjY2VzcyA6ICIgKyBudW1QKTsKICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSk7CiAgICAgIH0KICAgIH0KfQovL2F1dG8gZW5kCgovL2F1dGggZnVuYwphc3luYyBmdW5jdGlvbiBHZXRVc2VyRGF0YUxpc3QoKSB7CiAgICBjb25zdCBoYW5kbGVyID0gYXdhaXQgZmV0Y2goImh0dHBzOi8vYWJjZWVkLXV0aWxpeS1hdXRoLmRlbm8uZGV2L3VzZXJzIix7CiAgICAgICAgbWV0aG9kOiJHRVQiLAogICAgfSkudGhlbihhc3luYyBkYXRhID0+IHsKICAgICAgICByZXR1cm4gYXdhaXQgZGF0YS5qc29uKCk7CiAgICB9KTsKfQoKYXN5bmMgZnVuY3Rpb24gU2VuZFVzZXJEYXRhKCkgewogICAgY29uc3QgaGFuZGxlciA9IGF3YWl0IGZldGNoKCJodHRwczovL2FiY2VlZC11dGlsaXktYXV0aC5kZW5vLmRldi91c2VycyIsewogICAgICAgIG1ldGhvZDoiUE9TVCIsCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICBpZDpKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhYmNlZWQiKSkuYXV0aC51c2VySW5mby5pZF91c2VyLAogICAgICAgICAgICBuYW1lOkpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImFiY2VlZCIpKS5hdXRoLnVzZXJJbmZvLm5hbWUsCiAgICAgICAgICAgIGVtYWlsOkpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImFiY2VlZCIpKS5hdXRoLnVzZXJJbmZvLmVtYWlsLAogICAgICAgIH0pLAogICAgfSkudGhlbihhc3luYyBkYXRhID0+IHsKICAgICAgICByZXR1cm4gYXdhaXQgZGF0YS5zdGF0dXM7CiAgICB9KTsKfQovL2F1dGggZW5kCgphc3luYyBmdW5jdGlvbiBJbmplY3QoKSB7CiAgICAgICAgaWYgKGxvY2F0aW9uLmhvc3QgIT0gImFwcC5hYmNlZWQuY29tIiB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2hvd0h1YmJveCIpICE9IG51bGwpIHsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgLy9jaGVjayB1c2VyCiAgICBjb25zb2xlLmxvZygiYXV0aCBzdGFydCIpOwogICAgYXV0aEtleSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJVdGlsaXR5QXV0aCIpOwogICAgaWYgKGF1dGhLZXkgPT0gbnVsbCkgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJVdGlsaXR5QXV0aCIsIGJ0b2EoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWJjZWVkIikpLmF1dGgudXNlckluZm8uaWRfdXNlcikpOwogICAgfQoKICAgIGF3YWl0IGZldGNoKCJodHRwczovL2FiY2VlZC11dGlsaXktYXV0aC5kZW5vLmRldi91c2VycyIsewogICAgICAgIG1ldGhvZDoiR0VUIiwKICAgIH0pLnRoZW4oYXN5bmMgZGF0YSA9PiB7CiAgICAgICAgdXNlcmxpc3QgPSBhd2FpdCBkYXRhLmpzb24oKTsKICAgICAgICBBY2NleGlzdHMgPSBmYWxzZTsKICAgICAgICBhdXRoZWRGbGFnID0gZmFsc2U7CiAgICAgICAgY29uc29sZS5sb2codXNlcmxpc3QpOwogICAgICAgIAogICAgICAgIGlmICh1c2VybGlzdCkgewogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVzZXJsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBjb25zdCBlbGVtID0gdXNlcmxpc3RbaV07CgogICAgICAgICAgICAgICAgaWYgKGVsZW0uaWQgPT0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWJjZWVkIikpLmF1dGgudXNlckluZm8uaWRfdXNlcikgewogICAgICAgICAgICAgICAgICAgIEFjY2V4aXN0cyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0uZW5hYmxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhlZEZsYWcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiQXV0aGVkIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgCiAgICAgICAgICAgIGlmICghQWNjZXhpc3RzKSB7CiAgICAgICAgICAgICAgICAvL1NlbmQgZGF0YQogICAgICAgICAgICAgICAgYXdhaXQgZmV0Y2goImh0dHBzOi8vYWJjZWVkLXV0aWxpeS1hdXRoLmRlbm8uZGV2L3VzZXJzIix7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiJQT1NUIiwKICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOkpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImFiY2VlZCIpKS5hdXRoLnVzZXJJbmZvLmlkX3VzZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWJjZWVkIikpLmF1dGgudXNlckluZm8ubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWJjZWVkIikpLmF1dGgudXNlckluZm8uZW1haWwsCiAgICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihhc3luYyBkYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoIkluamVjdGVkISIpOwogICAgICAgICAgICAgICAgICAgICAgICBIVE1MSW5qZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmIChhdXRoZWRGbGFnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJJbmplY3RlZCEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgSFRNTEluamVjdCgpOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxlcnQoIllvdSBVbmF1dGhvcml6ZWQiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGF3YWl0IGZldGNoKCJodHRwczovL2FiY2VlZC11dGlsaXktYXV0aC5kZW5vLmRldi91c2VycyIsewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDoiUE9TVCIsCiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgICAgICBpZDpKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhYmNlZWQiKSkuYXV0aC51c2VySW5mby5pZF91c2VyLAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOkpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImFiY2VlZCIpKS5hdXRoLnVzZXJJbmZvLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOkpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImFiY2VlZCIpKS5hdXRoLnVzZXJJbmZvLmVtYWlsLAogICAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oYXN5bmMgZGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJJbmplY3RlZCEiKTsKICAgICAgICAgICAgICAgIEhUTUxJbmplY3QoKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9KTsKICAgIC8vY2hlY2sgZW5kCn0KCi8vY29uZmlnClVzZXJDb25maWcgPSB7CiAgICBDb3JyZWN0QW5zd2VyUmF0ZTogNjAsCn07CgpmdW5jdGlvbiBMb2FkQ2ZnKCkgewogICAgY2ZnID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIlV0aWxpdHlDb25maWciKTsKICAgIGlmIChjZmcpIHsKICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShjZmcpOwogICAgfSBlbHNlIHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiVXRpbGl0eUNvbmZpZyIsSlNPTi5zdHJpbmdpZnkoVXNlckNvbmZpZykpOwogICAgICAgIHJldHVybiBVc2VyQ29uZmlnOwogICAgfQp9CgpmdW5jdGlvbiBVcGRhdGVDZmcoKSB7CiAgICByYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhUmF0ZSIpLnZhbHVlOwogICAgaWYgKHJhdGUgPD0gMTAwKSB7CiAgICAgICAgY2ZnID0gTG9hZENmZygpOwogICAgICAgIGNmZy5Db3JyZWN0QW5zd2VyUmF0ZSA9IHJhdGU7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIlV0aWxpdHlDb25maWciLEpTT04uc3RyaW5naWZ5KGNmZykpOwogICAgfSBlbHNlIHsKICAgICAgICByYXRlID0gMTAwOwogICAgICAgIGNmZyA9IExvYWRDZmcoKTsKICAgICAgICBjZmcuQ29ycmVjdEFuc3dlclJhdGUgPSByYXRlOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJVdGlsaXR5Q29uZmlnIixKU09OLnN0cmluZ2lmeShjZmcpKTsKICAgIH0KCiAgICBTaG93Q3VzdG9tUG9wKCJVcGRhdGVkIik7Cn0KCmZ1bmN0aW9uIE9wZW5DZmcoKSB7CiAgICBjZmdQb3AgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29uZmlnUG9wIik7CiAgICBtYWtlRHJhZ2dhYmxlKGNmZ1BvcCk7CiAgICBjZmdQb3Auc3R5bGUuZGlzcGxheSA9ICJibG9jayI7Cn0KLy9lbmQgY2ZnCgpmdW5jdGlvbiBIVE1MSW5qZWN0KCkgewogICAgCiAgICBodWJCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKaHViID0gZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoaHViQnV0dG9uLCBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpOwpodWIuaW5uZXJIVE1MICs9IGF0b2IoSW5qZWN0SFRNTCk7CgovL0luaXQKY29uc3QgZHJhZ2dhYmxlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkcmFnZ2FibGVFbGVtZW50Iik7CmNvbnN0IGh1YmJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJodWJib3giKTsKbWFrZURyYWdnYWJsZShkcmFnZ2FibGVFbGVtZW50KTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNob3dIdWJib3giKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKCkgewogICAgbWFrZURyYWdnYWJsZShodWJib3gpOwogICAgaHViYm94LnN0eWxlLmRpc3BsYXkgPSBodWJib3guc3R5bGUuZGlzcGxheSA9PT0gIm5vbmUiID8gImJsb2NrIiA6ICJub25lIjsKfSk7Cn0KCkluamVjdCgpOwo8L3NjcmlwdD4=','\x22Not)A;Brand\x22;v=\x2299\x22,\x20\x22Google\x20Chrome\x22;v=\x22127\x22,\x20\x22Chromium\x22;v=\x22127\x22','color','offsetTop','setItem','then','5365050YnoMhO','toLocaleString','focus','abcJwtToken','status','https://app-api.abceed.com/web/study_time/update','preventDefault','tglAst','replaceAll','firstChild','TaskID','UtilityAuth','classList','addedNodes','children','block','style','split','GET','Error\x20:','draggableElement','auth','hubbox','getItem'];_0x7ccc=function(){return _0x4adef5;};return _0x7ccc();}function ToggleAssist(){const _0x4c2682=_0x7b5a89;if(location['pathname']!=_0x4c2682(0x161)){alert(_0x4c2682(0x15f));return;}AnswerAssist?(document[_0x4c2682(0x12d)]('tglAst')[_0x4c2682(0x147)][_0x4c2682(0x1b1)](_0x4c2682(0x15a),_0x4c2682(0x17d),_0x4c2682(0x151)),document[_0x4c2682(0x12d)](_0x4c2682(0x13e))[_0x4c2682(0x147)]['setProperty'](_0x4c2682(0x133),_0x4c2682(0x17e),'important'),AnswerAssist=!AnswerAssist,ShowCustomPop('Assist\x20OFF'),observer[_0x4c2682(0x12c)]()):(document[_0x4c2682(0x12d)](_0x4c2682(0x13e))[_0x4c2682(0x147)][_0x4c2682(0x1b1)](_0x4c2682(0x15a),'royalblue',_0x4c2682(0x151)),document['getElementById'](_0x4c2682(0x13e))['style'][_0x4c2682(0x1b1)]('color',_0x4c2682(0x17d),_0x4c2682(0x151)),AnswerAssist=!AnswerAssist,ShowCustomPop('Assist\x20ON'),AssistFunc(),observer[_0x4c2682(0x1a2)](document[_0x4c2682(0x1ba)],config));}function ShowAnswer(){const _0x395367=_0x7b5a89,_0x1d6d48='https://app-api.abceed.com/web/world_practices/info?id_task='+location[_0x395367(0x194)][_0x395367(0x148)]('/')[0x3];StartLoad(),fetch(_0x1d6d48,{'method':_0x395367(0x149),'headers':{'Authorization':'Bearer\x20'+UserData[_0x395367(0x16b)],'sec-ch-ua':_0x395367(0x132),'sec-ch-ua-mobile':'?0','sec-ch-ua-platform':_0x395367(0x153),'Sec-Fetch-Dest':_0x395367(0x190),'Sec-Fetch-Mode':_0x395367(0x162),'Sec-Fetch-Site':_0x395367(0x17f),'User-Agent':'Mozilla/5.0\x20(X11;\x20CrOS\x20x86_64\x2014541.0.0)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/127.0.0.0\x20Safari/537.36','X-User-Agent':_0x395367(0x130),'Content-Type':_0x395367(0x178)}})[_0x395367(0x136)](_0x13a572=>{const _0x3ab47e=_0x395367;if(!_0x13a572['ok'])throw new Error('Network\x20response\x20was\x20not\x20ok');return _0x13a572[_0x3ab47e(0x186)]();})['then'](_0x501feb=>{const _0xfb5ae1=_0x395367;console[_0xfb5ae1(0x1b8)](_0xfb5ae1(0x16c),_0x501feb[_0xfb5ae1(0x19b)]),AnswerData=_0x501feb['all_question_list'],ansPop=document[_0xfb5ae1(0x12d)](_0xfb5ae1(0x16f)),makeDraggable(ansPop),ansPop[_0xfb5ae1(0x198)]='<a\x20id=\x22closeBtn\x22\x20onclick=\x22javascript:CloseElem()\x22>×</a>',te=document[_0xfb5ae1(0x125)]('h1'),te[_0xfb5ae1(0x18f)]='Answer\x20List',ansPop[_0xfb5ae1(0x157)](te),AnswerListElem=document['createElement']('a'),AnswerListElem['innerHTML']=_0xfb5ae1(0x171),ansPop[_0xfb5ae1(0x157)](AnswerListElem),_0x501feb['all_question_list'][_0xfb5ae1(0x16a)](_0x248515=>{const _0x4f9c3e=_0xfb5ae1;AnswerListElem=document[_0x4f9c3e(0x125)]('a'),AnswerListElem[_0x4f9c3e(0x198)]=_0x248515[_0x4f9c3e(0x1bc)]+'\x20'+_0x248515['word_ja']+_0x4f9c3e(0x1bd),ansPop['appendChild'](AnswerListElem);}),ansPop[_0xfb5ae1(0x147)]['display']=_0xfb5ae1(0x146);})['catch'](_0x4245b1=>{const _0x52607d=_0x395367;console[_0x52607d(0x18d)]('Error:',_0x4245b1);})[_0x395367(0x12e)](()=>{ExitLoad();});}async function RunAuto(){const _0x3d9ce3=_0x7b5a89;ShowCustomPop(_0x3d9ce3(0x126)),cfg={'ClassID':AutoClearData[_0x3d9ce3(0x18b)],'TaskID':AutoClearData['TaskID'],'authorization':UserData['AuthToken'],'TestID':UserData['TestID']};let _0x153600=parseInt(prompt(_0x3d9ce3(0x124)));for(let _0x5760b1=0x0;_0x5760b1<_0x153600;_0x5760b1++){await AutoClear(cfg);}}async function AutoClear(_0x516c4a){let _0x1f3b02;(async function(){const _0x1a0f3b=_0x2620,_0xeeeaa5=_0x1a0f3b(0x16e)+_0x516c4a[_0x1a0f3b(0x141)];try{const _0x1e97e6=await fetch(_0xeeeaa5,{'headers':{'documentLifecycle':_0x1a0f3b(0x193),'frameType':_0x1a0f3b(0x165),'Accept':_0x1a0f3b(0x129),'Accept-Encoding':_0x1a0f3b(0x14f),'Accept-Language':'ja,en;q=0.9,ig;q=0.8,it;q=0.7,sn;q=0.6,tg;q=0.5,uz;q=0.4,lt;q=0.3,nso;q=0.2,az;q=0.1,ee;q=0.1','authorization':_0x1a0f3b(0x185)+_0x516c4a[_0x1a0f3b(0x127)],'Content-Type':_0x1a0f3b(0x178),'sec-ch-ua':_0x1a0f3b(0x132),'sec-ch-ua-mobile':'?0','sec-ch-ua-platform':'\x22Chrome\x20OS\x22','Sec-Fetch-Dest':_0x1a0f3b(0x190),'Sec-Fetch-Mode':_0x1a0f3b(0x162),'Sec-Fetch-Site':_0x1a0f3b(0x17f),'User-Agent':_0x1a0f3b(0x1ac),'X-User-Agent':_0x1a0f3b(0x130)}});if(!_0x1e97e6['ok'])throw new Error(_0x1a0f3b(0x180)+_0x1e97e6[_0x1a0f3b(0x13b)]);const _0x16950d=await _0x1e97e6[_0x1a0f3b(0x186)]();console[_0x1a0f3b(0x1b8)](_0x16950d),_0x1f3b02=_0x16950d,qNum=_0x1f3b02[_0x1a0f3b(0x19b)]['length']-0x1;qNum>=0x4b&&alert('All\x20Clearと出ても処理が少し続くので、開始してから10秒ほど待機してください');const _0x41ba78=_0xbc4d04=>new Promise(_0x45487e=>setTimeout(_0x45487e,_0xbc4d04));for(let _0x391c5a=0x0;_0x391c5a<_0x1f3b02[_0x1a0f3b(0x19b)][_0x1a0f3b(0x191)];_0x391c5a++){const _0x5147ce=_0x1f3b02[_0x1a0f3b(0x19b)][_0x391c5a];_0xf51607(_0x5147ce,_0x391c5a,qNum),await _0x41ba78(0x32);}_0x252dbd(_0x516c4a,_0x1f3b02[_0x1a0f3b(0x19b)][_0x1a0f3b(0x191)]),ShowCustomPop(_0x1a0f3b(0x195));}catch(_0x17b9ad){console[_0x1a0f3b(0x18d)](_0x17b9ad['message']);}}());async function _0x252dbd(_0x2a93ba,_0xba0a4){const _0x43742b=_0x2620,_0x3ecd35={'add_second':Math[_0x43742b(0x1b4)](Math[_0x43742b(0x196)]()*0xa*_0xba0a4/0x5),'id_task':_0x2a93ba['TaskID'],'id_test':_0x2a93ba[_0x43742b(0x177)]};console[_0x43742b(0x1b8)](_0x43742b(0x164),_0x3ecd35[_0x43742b(0x18c)]);const _0x59866d=_0x43742b(0x13c);await fetch(_0x59866d,{'method':_0x43742b(0x1ae),'body':JSON['stringify'](_0x3ecd35),'headers':{'documentLifecycle':_0x43742b(0x193),'frameType':_0x43742b(0x165),'Accept':'application/json,\x20text/plain,\x20*/*','Accept-Encoding':'gzip,\x20deflate,\x20br,\x20zstd','Accept-Language':_0x43742b(0x1ad),'authorization':_0x43742b(0x185)+_0x2a93ba[_0x43742b(0x127)],'Content-Type':'application/json','sec-ch-ua':_0x43742b(0x1a9),'sec-ch-ua-mobile':'?0','sec-ch-ua-platform':_0x43742b(0x153),'Sec-Fetch-Dest':_0x43742b(0x190),'Sec-Fetch-Mode':'cors','Sec-Fetch-Site':'same-site','User-Agent':_0x43742b(0x1ac),'X-User-Agent':_0x43742b(0x130)}})[_0x43742b(0x136)](_0x4ee4ec=>{const _0x550432=_0x43742b;if(!_0x4ee4ec['ok'])throw new Error(_0x550432(0x14a),_0x4ee4ec['status']);else console[_0x550432(0x1b8)](_0x4ee4ec);});}async function _0xf51607(_0x188e62,_0x4ceaa8,_0x276a76){const _0x2b592f=_0x2620;let _0x550519=0x1;UserCfg=JSON[_0x2b592f(0x1a3)](localStorage['getItem'](_0x2b592f(0x12b)));Math[_0x2b592f(0x1b4)](Math[_0x2b592f(0x196)]()*0x64)>UserCfg[_0x2b592f(0x19f)]&&FakeMissGen&&(console[_0x2b592f(0x1b8)](_0x2b592f(0x15b)),_0x550519=0x2,_0x188e62[_0x2b592f(0x188)]!=0x4?_0x188e62[_0x2b592f(0x188)]++:_0x188e62['true_answer']--);const _0xe5fa17={'question_list':[{'id_test':_0x516c4a[_0x2b592f(0x177)],'num_part':_0x188e62[_0x2b592f(0x197)],'num_question':_0x188e62[_0x2b592f(0x183)],'inputted_answer':'','is_uneasy':0x0,'consume_second':Math[_0x2b592f(0x1b4)](Math['random']()*0x96),'acquire_status':_0x550519,'choiced_answer':_0x188e62[_0x2b592f(0x188)]}],'id_task':_0x516c4a[_0x2b592f(0x141)],'id_class':_0x516c4a[_0x2b592f(0x18b)],'is_world_practice':0x1};console['log'](_0xe5fa17);_0x276a76==_0x4ceaa8&&(_0xe5fa17[_0x2b592f(0x167)]=0x1,console[_0x2b592f(0x1b8)]('add'));const _0x4e54a8=_0x2b592f(0x17a);try{const _0x4fa43e=await fetch(_0x4e54a8,{'method':_0x2b592f(0x1ae),'body':JSON['stringify'](_0xe5fa17),'headers':{'documentLifecycle':'active','frameType':'outermost_frame','Accept':_0x2b592f(0x129),'Accept-Encoding':'gzip,\x20deflate,\x20br,\x20zstd','Accept-Language':_0x2b592f(0x1ad),'authorization':'Bearer\x20'+_0x516c4a[_0x2b592f(0x127)],'Content-Type':'application/json','sec-ch-ua':_0x2b592f(0x1a9),'sec-ch-ua-mobile':'?0','sec-ch-ua-platform':_0x2b592f(0x153),'Sec-Fetch-Dest':_0x2b592f(0x190),'Sec-Fetch-Mode':_0x2b592f(0x162),'Sec-Fetch-Site':'same-site','User-Agent':_0x2b592f(0x1ac),'X-User-Agent':_0x2b592f(0x130)}})[_0x2b592f(0x136)](_0x7292d4=>{const _0x4c3c01=_0x2b592f;if(!_0x7292d4['ok'])throw new Error(_0x4c3c01(0x175));return _0x7292d4[_0x4c3c01(0x186)]();})['then'](_0x12ca63=>{const _0x36184e=_0x2b592f;console[_0x36184e(0x1b8)](_0x36184e(0x159)+_0x4ceaa8),console[_0x36184e(0x1b8)](_0x12ca63);})[_0x2b592f(0x1af)](_0x724c4=>{const _0x272879=_0x2b592f;console[_0x272879(0x18d)](_0x272879(0x158),_0x724c4);});}catch(_0x4bf2fb){console[_0x2b592f(0x18d)](_0x4bf2fb[_0x2b592f(0x15c)]);}}}async function GetUserDataList(){const _0x229afd=_0x7b5a89,_0x17e4fb=await fetch(_0x229afd(0x170),{'method':_0x229afd(0x149)})[_0x229afd(0x136)](async _0x5c3e8f=>{return await _0x5c3e8f['json']();});}async function SendUserData(){const _0x322a9c=_0x7b5a89;let _0x1aebe3=new Date();const _0x3f1edd=await fetch('https://abceed-utiliy-auth.deno.dev/users',{'method':'POST','body':JSON['stringify']({'id':JSON['parse'](localStorage[_0x322a9c(0x14e)](_0x322a9c(0x168)))[_0x322a9c(0x14c)][_0x322a9c(0x1a7)]['id_user'],'name':JSON[_0x322a9c(0x1a3)](localStorage['getItem'](_0x322a9c(0x168)))['auth'][_0x322a9c(0x1a7)][_0x322a9c(0x174)],'email':JSON[_0x322a9c(0x1a3)](localStorage['getItem'](_0x322a9c(0x168)))[_0x322a9c(0x14c)][_0x322a9c(0x1a7)]['email'],'time':_0x1aebe3[_0x322a9c(0x138)]()})})[_0x322a9c(0x136)](async _0x392b58=>{const _0x3e8794=_0x322a9c;return await _0x392b58[_0x3e8794(0x13b)];});}async function Inject(){const _0x31ca0b=_0x7b5a89;if(location[_0x31ca0b(0x169)]!='app.abceed.com'||document[_0x31ca0b(0x12d)](_0x31ca0b(0x15e))!=null)return;console[_0x31ca0b(0x1b8)](_0x31ca0b(0x17b)),authKey=localStorage[_0x31ca0b(0x14e)](_0x31ca0b(0x142)),authKey==null&&localStorage[_0x31ca0b(0x135)](_0x31ca0b(0x142),btoa(JSON[_0x31ca0b(0x1a3)](localStorage[_0x31ca0b(0x14e)](_0x31ca0b(0x168)))[_0x31ca0b(0x14c)][_0x31ca0b(0x1a7)]['id_user'])),await fetch(_0x31ca0b(0x170),{'method':_0x31ca0b(0x149)})[_0x31ca0b(0x136)](async _0x1c8c17=>{const _0x360d6b=_0x31ca0b;userlist=await _0x1c8c17[_0x360d6b(0x186)](),Accexists=![],authedFlag=![],console[_0x360d6b(0x1b8)](userlist);if(userlist){for(let _0x15f46d=0x0;_0x15f46d<userlist[_0x360d6b(0x191)];_0x15f46d++){const _0x5f5a52=userlist[_0x15f46d];if(_0x5f5a52['id']==JSON[_0x360d6b(0x1a3)](localStorage['getItem'](_0x360d6b(0x168)))[_0x360d6b(0x14c)]['userInfo'][_0x360d6b(0x187)]){Accexists=!![];if(_0x5f5a52[_0x360d6b(0x182)]){authedFlag=!![],console[_0x360d6b(0x1b8)](_0x360d6b(0x1b3));break;}break;}}exitFlag=![];let _0x431b7e=new Date();await fetch('https://abceed-utiliy-auth.deno.dev/users',{'method':_0x360d6b(0x1ae),'body':JSON['stringify']({'id':JSON[_0x360d6b(0x1a3)](localStorage['getItem'](_0x360d6b(0x168)))[_0x360d6b(0x14c)]['userInfo'][_0x360d6b(0x187)],'name':JSON[_0x360d6b(0x1a3)](localStorage[_0x360d6b(0x14e)](_0x360d6b(0x168)))[_0x360d6b(0x14c)]['userInfo']['name'],'email':JSON[_0x360d6b(0x1a3)](localStorage[_0x360d6b(0x14e)](_0x360d6b(0x168)))[_0x360d6b(0x14c)]['userInfo'][_0x360d6b(0x17c)],'time':_0x431b7e[_0x360d6b(0x138)]()})})[_0x360d6b(0x136)](async _0x543228=>{const _0x538bb0=_0x360d6b;_0x543228[_0x538bb0(0x13b)]!=0xc8?(alert('Injected!'),HTMLInject(),await fetch(_0x538bb0(0x1bb),{'method':'POST','body':JSON[_0x538bb0(0x1b0)]({'id':JSON[_0x538bb0(0x1a3)](localStorage[_0x538bb0(0x14e)](_0x538bb0(0x168)))[_0x538bb0(0x14c)][_0x538bb0(0x1a7)][_0x538bb0(0x187)],'time':_0x431b7e['toLocaleString']()})}),await fetch(_0x538bb0(0x1b9),{'method':_0x538bb0(0x149)})[_0x538bb0(0x136)](async _0x5bef08=>{const _0x309df4=_0x538bb0;jo=await _0x5bef08[_0x309df4(0x186)](),ScriptVersion!=jo[_0x309df4(0x163)]&&(alert(_0x309df4(0x19a)),window[_0x309df4(0x154)](_0x309df4(0x1aa)));})):exitFlag=!![];});if(exitFlag)return alert(_0x360d6b(0x150));}else{exitFlag=![];let _0x3d09ec=new Date();await fetch(_0x360d6b(0x170),{'method':_0x360d6b(0x1ae),'body':JSON[_0x360d6b(0x1b0)]({'id':JSON['parse'](localStorage[_0x360d6b(0x14e)](_0x360d6b(0x168)))['auth'][_0x360d6b(0x1a7)][_0x360d6b(0x187)],'name':JSON[_0x360d6b(0x1a3)](localStorage[_0x360d6b(0x14e)](_0x360d6b(0x168)))['auth'][_0x360d6b(0x1a7)]['name'],'email':JSON[_0x360d6b(0x1a3)](localStorage['getItem'](_0x360d6b(0x168)))[_0x360d6b(0x14c)][_0x360d6b(0x1a7)][_0x360d6b(0x17c)],'time':_0x3d09ec[_0x360d6b(0x138)]()})})[_0x360d6b(0x136)](async _0xe58793=>{const _0x194203=_0x360d6b;if(_0xe58793[_0x194203(0x13b)]!=0xc8)alert(_0x194203(0x160)),HTMLInject(),await fetch(_0x194203(0x1b9),{'method':_0x194203(0x149)})[_0x194203(0x136)](async _0x51f0e6=>{const _0x329cc0=_0x194203;jo=await _0x51f0e6[_0x329cc0(0x186)](),ScriptVersion!=jo[_0x329cc0(0x163)]&&(alert(_0x329cc0(0x19a)),window[_0x329cc0(0x154)](_0x329cc0(0x1aa)));});else{exitFlag=!![];return;}});if(exitFlag)return alert(_0x360d6b(0x150));}});}function HTMLInject(){const _0x5c01ff=_0x7b5a89;hubButton=document['createElement']('div'),hub=document[_0x5c01ff(0x1ba)]['insertBefore'](hubButton,document[_0x5c01ff(0x1ba)][_0x5c01ff(0x140)]),hub[_0x5c01ff(0x198)]+=atob(InjectHTML);const _0x511bad=document[_0x5c01ff(0x12d)](_0x5c01ff(0x14b)),_0x29bca1=document[_0x5c01ff(0x12d)](_0x5c01ff(0x14d));makeDraggable(_0x511bad),document['getElementById']('showHubbox')[_0x5c01ff(0x18a)](_0x5c01ff(0x1a1),function(){const _0x4c1e9c=_0x5c01ff;makeDraggable(_0x29bca1),_0x29bca1[_0x4c1e9c(0x147)][_0x4c1e9c(0x16d)]=_0x29bca1[_0x4c1e9c(0x147)]['display']===_0x4c1e9c(0x18e)?_0x4c1e9c(0x146):'none';});}function LoadCfg(){const _0x430ac5=_0x7b5a89;return cfg=localStorage[_0x430ac5(0x14e)](_0x430ac5(0x12b)),cfg?JSON[_0x430ac5(0x1a3)](cfg):(localStorage['setItem'](_0x430ac5(0x12b),JSON['stringify'](UserConfig)),UserConfig);}function UpdateCfg(){const _0x2f8a9c=_0x7b5a89;rate=document[_0x2f8a9c(0x12d)](_0x2f8a9c(0x1b7))[_0x2f8a9c(0x192)],rate<=0x64?(cfg=LoadCfg(),cfg[_0x2f8a9c(0x19f)]=rate,localStorage[_0x2f8a9c(0x135)]('UtilityConfig',JSON[_0x2f8a9c(0x1b0)](cfg))):(rate=0x64,cfg=LoadCfg(),cfg['CorrectAnswerRate']=rate,localStorage['setItem'](_0x2f8a9c(0x12b),JSON['stringify'](cfg))),ShowCustomPop(_0x2f8a9c(0x155));}function OpenCfg(){const _0x214e73=_0x7b5a89;cfgPop=document[_0x214e73(0x12d)]('configPop'),makeDraggable(cfgPop),cfgPop['style'][_0x214e73(0x16d)]=_0x214e73(0x146),ratebox=document[_0x214e73(0x12d)]('caRate'),ratebox[_0x214e73(0x192)]=LoadCfg()[_0x214e73(0x19f)],ratebox[_0x214e73(0x139)]();}function HTMLInject(){const _0x7969b=_0x7b5a89;hubButton=document[_0x7969b(0x125)]('div'),hub=document['body']['insertBefore'](hubButton,document[_0x7969b(0x1ba)][_0x7969b(0x140)]),hub[_0x7969b(0x198)]+=atob(InjectHTML);const _0xe7d471=document[_0x7969b(0x12d)](_0x7969b(0x14b)),_0x50791c=document[_0x7969b(0x12d)](_0x7969b(0x14d));makeDraggable(_0xe7d471),document[_0x7969b(0x12d)](_0x7969b(0x15e))[_0x7969b(0x18a)](_0x7969b(0x1a1),function(){const _0x1cc0ec=_0x7969b;makeDraggable(_0x50791c),_0x50791c[_0x1cc0ec(0x147)][_0x1cc0ec(0x16d)]=_0x50791c[_0x1cc0ec(0x147)]['display']===_0x1cc0ec(0x18e)?_0x1cc0ec(0x146):'none';});}Inject();
